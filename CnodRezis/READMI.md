Переделать предыдущий код из conResistoh

Заменить delay(1000) в программах (например, на Arduino) можно с помощью функции millis() для неблокирующей задержки.
 Вместо того чтобы останавливать выполнение всей программы, вы используете millis(), чтобы отслеживать прошедшее время и выполнять нужные действия только после истечения заданного интервала (1000 миллисекунд, или 1 секунды). 


Как заменить delay() на millis()
Инициализация переменных:

Создайте две переменные: unsigned long previousMillis = 0; для хранения времени последнего события и const long interval = 1000; для заданного интервала задержки.

В основном цикле loop():
Получите текущее время с помощью unsigned long currentMillis = millis();.
Проверьте, прошло ли необходимое время: if (currentMillis - previousMillis >= interval).

Если да, то обновите время: previousMillis = currentMillis;.

После этого выполняйте нужный код, который раньше находился после delay(1000).